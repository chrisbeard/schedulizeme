<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">

	<title>Schedulize Me</title>
	<meta name="description" content="Schedulize Me - an interactive class scheduler for students.">
	<meta name="author" content="">

	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="bootstrap/css/bootstrap-theme.min.css">
	<script src="bootstrap/js/bootstrap.min.js"></script>

	<!--[if lt IE 9]>
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	
</head>

<body>

	<header class="header clearfix">
		<h1 class="title">Schedulize Me</h1>
	</header>
	<section class="sidebar">

		<div class="spacer"></div>

			<h4>Build your schedule.</h4>
			<!-- <div class="dropdown course-department" id="selectDept">
				<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
					Select Department
					<span class="caret"></span>
				</button>
				<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1" id>
					<li role="presentation"><a role="menuitem" tabindex="-1" href="#">Action</a></li>
					<li role="presentation"><a role="menuitem" tabindex="-1" href="#">Another action</a></li>
					<li role="presentation"><a role="menuitem" tabindex="-1" href="#">Something else here</a></li>
				</ul>
			</div> -->
			<select id="selectDept">
			</select>
			<select id="selectCourse">
			</select>
			<select id="selectSection">
			</select>
	</section>


	<!-- Populate department list -->
	<script type="text/javascript">
		$.get('http://trump6.com/schedulizeme/api/dept.php', function(data) {
			var depts = JSON.parse(data);
			var select = document.getElementById("selectDept");
			for(var i = 0; i < depts.length; i++) {
				var opt = depts[i];
				var el = document.createElement("option");
				// console.log(opt["dept"]);
				el.textContent = opt["dept"];
				el.value = opt["dept"];
				select.appendChild(el);
			}
		});
	</script>

	<!-- Populate course list -->
	<script type="text/javascript">
		$(selectDept).on('change', function() {
			$('#selectCourse').empty();
			var dept = $('#selectDept').val();
			$.get('http://trump6.com/schedulizeme/api/courses.php?dept=' + dept, function(data) {
				var courses = JSON.parse(data);
				var select = document.getElementById("selectCourse");
				for(var i = 0; i < courses.length; i++) {
					var opt = courses[i];
					var el = document.createElement("option");
					// console.log(opt["num"]);
					el.textContent = opt["num"];
					el.value = opt["num"];
					select.appendChild(el);
				}
			});
		});
	</script>
	
	<!-- Populate section list -->
	<script type="text/javascript">
		$(selectDept).on('change', function() {
			$('#selectSection').empty();
			var dept = $('#selectDept').val();
			var course = $('#selectCourse').val();
			$.get('http://trump6.com/schedulizeme/api/courses.php?dept=' + dept + '&courseNum=' + course, function(data) {
				var sections = JSON.parse(data);
				var select = document.getElementById("selectSection");
				for(var i = 0; i < sections.length; i++) {
					var opt = sections[i];
					var el = document.createElement("option");
					console.log(opt["section"]);
					el.textContent = opt["section"];
					el.value = opt["section"];
					select.appendChild(el);
				}
			});
		});
	</script>


</body>
</html>
